# Autodoc E2E Test Report — Online Boutique

**Generated:** 2026-02-15
**Target repo:** GoogleCloudPlatform/microservices-demo (11 microservices, 5+ languages)
**Autodoc binary:** autodoc v0.1.0

## Test Runs

| Run | LLM Provider | Embeddings | Files Processed | Cost | Duration |
|-----|-------------|------------|-----------------|------|----------|
| Run 1 (Anthropic) | claude-sonnet-4-5-20250929 | gemini-embedding-001 | 109/146 (75%) | $3.13 | 20m 4s |
| Run 2 (Gemini) | gemini-3-pro-preview | gemini-embedding-001 | 145/146 (99%) | ~$2.50 | 14m 59s |

**This report covers Run 2 (Gemini).** Run 1 was abandoned at 75% due to Anthropic API credit exhaustion.

---

## Execution Summary

| Metric | Value |
|--------|-------|
| Files found | 146 |
| Files processed | 145 (99.3%) |
| Files failed | 1 (transient error) |
| Generation time | 14m 59s |
| Static site pages | 160 |
| Vector DB documents | 365 |
| architecture.md | Generated |
| Enhanced index.md | Generated |

### Services Fully Indexed
- adservice, cartservice, checkoutservice, currencyservice, emailservice, frontend, loadgenerator, paymentservice, productcatalogservice, recommendationservice, shippingservice, shoppingassistantservice

### Known Issue: LLM Parse Failures
Some files were processed but the LLM response could not be parsed into structured analysis. These files have a fallback summary of "Analysis failed: could not parse LLM response." Affected files include:
- `src/frontend/handlers.go`
- `src/checkoutservice/main.go`
- `src/frontend/genproto/demo.pb.go`

These files are still in the vector DB but have degraded summaries, which impacts retrieval quality.

---

## Scoring Rubric

### Track A: Retrieval Quality (`autodoc query --json`, per question 0-10)
- **Relevance (0-4):** How many of top-5 results are actually relevant?
- **Coverage (0-3):** Do results contain the critical files needed?
- **Ranking (0-3):** Is the most important file ranked #1-2?

### Track B: Answer Quality (`/api/search` synthesized answer, per question 0-10)
Scored on accuracy, completeness, specificity per the ground truth.

**Important caveat:** All Track B synthesized answers were truncated to ~200-250 characters (~50 tokens) due to a response length issue with the Gemini 3 Pro Preview model. Each answer starts correctly but cuts off mid-sentence. Scores reflect the partial content received.

### Aggregate
- Max 100 per track. Grade: 90+ Excellent, 75-89 Good, 60-74 Acceptable, 40-59 Below Average, <40 Poor

---

## Results

### Q1 (Difficulty 1/5) — Basic Facts

**Question:** What programming languages are used in this project?

**Ground Truth:** Go, Node.js, Python, C#, Java, Protocol Buffers. Must name 6 languages and associate them with services.

#### Track A: Top 5 Results

| Rank | File | Similarity | Type |
|------|------|-----------|------|
| 1 | src/frontend/handlers.go | 0.600 | file |
| 2 | src/checkoutservice/main.go | 0.595 | file |
| 3 | src/frontend/genproto/demo.pb.go | 0.581 | file |
| 4 | src/frontend/README.md | 0.579 | file |
| 5 | src/frontend/.gitkeep | 0.579 | file |

Also in top 10: currencyservice/server.js (7), adservice/settings.gradle (8), cartservice.csproj (9), loadgenerator/requirements.in (10)

#### Track A Scoring

| Criteria | Score | Notes |
|----------|-------|-------|
| Relevance | 2/4 | Top-5 mostly Go/frontend files; language diversity only appears at ranks 7-10 |
| Coverage | 2/3 | All 6 language families present in top 10, but spread thin |
| Ranking | 1/3 | Top results are Go-biased; no overview file at #1 |
| **Total A** | **5/10** | Languages are discoverable but poorly ranked |

#### Track B: Synthesized Answer

> "...this project utilizes a polyglot microservices architecture involving at least four distinct programming environments. Go is used for the frontend application and the checkout service..."

| Criteria | Score | Notes |
|----------|-------|-------|
| **Total B** | **4/10** | Correctly identifies polyglot + Go. Truncated before listing all 6 languages. Says "at least four" instead of naming all 6 |

---

### Q2 (Difficulty 2/5) — Basic Facts

**Question:** What port does the frontend service listen on and what HTTP routes does it expose?

**Ground Truth:** Port 8080. Routes include `/`, `/product/{id}`, `/cart`, `/cart/checkout`, `/setCurrency`, `/_healthz`.

#### Track A: Top 5 Results

| Rank | File | Similarity | Type |
|------|------|-----------|------|
| 1 | src/frontend/main.go | 0.685 | file |
| 2 | src/frontend/README.md | 0.670 | file |
| 3 | src/frontend/handlers.go | 0.660 | file |
| 4 | src/frontend/deployment_details.go (init) | 0.657 | function |
| 5 | src/frontend/rpc.go | 0.634 | file |

#### Track A Scoring

| Criteria | Score | Notes |
|----------|-------|-------|
| Relevance | 4/4 | main.go has port config; handlers.go has route handlers; rpc.go has gRPC calls |
| Coverage | 3/3 | main.go (port + route registration) + handlers.go (handler implementations) |
| Ranking | 3/3 | main.go at #1 — exactly right |
| **Total A** | **10/10** | Perfect retrieval |

#### Track B: Synthesized Answer

> "...the specific port number is not explicitly listed in the summaries, but the server configuration and initialization logic reside in `src/frontend/main.go`..."

| Criteria | Score | Notes |
|----------|-------|-------|
| **Total B** | **3/10** | Admits it can't find port 8080 in summaries. Doesn't list routes. Points to correct file but doesn't answer the question |

---

### Q3 (Difficulty 2/5) — Architecture

**Question:** How do the microservices communicate with each other?

**Ground Truth:** gRPC over Protocol Buffers defined in `protos/demo.proto`. Frontend translates HTTP to gRPC. Service discovery via env vars.

#### Track A: Top 5 Results

| Rank | File | Similarity | Type |
|------|------|-----------|------|
| 1 | protos/demo.proto | 0.609 | file |
| 2 | src/adservice/src/main/proto/demo.proto | 0.609 | file |
| 3 | src/currencyservice/proto/demo.proto | 0.607 | file |
| 4 | src/paymentservice/proto/demo.proto | 0.598 | file |
| 5 | src/shippingservice/genproto/demo_grpc.pb.go | 0.588 | file |

Also: frontend/rpc.go (6), frontend/genproto (7), checkoutservice/genproto (8), recommendationservice/demo_pb2_grpc.py (9), AdServiceImpl class (10)

#### Track A Scoring

| Criteria | Score | Notes |
|----------|-------|-------|
| Relevance | 4/4 | All 5 results are proto/gRPC files — directly relevant |
| Coverage | 3/3 | Proto sources + generated gRPC bindings across Go, Python, Java |
| Ranking | 3/3 | protos/demo.proto (canonical source) at #1 |
| **Total A** | **10/10** | Perfect retrieval |

#### Track B: Synthesized Answer

> "The microservices in this application communicate synchronously using **gRPC**, relying on **Protocol Buffers** to define the API contracts and data schemas. The central definition for these interactions is located in `protos/..."

| Criteria | Score | Notes |
|----------|-------|-------|
| **Total B** | **6/10** | Correctly identifies gRPC + Protocol Buffers. References protos/demo.proto. Truncated before details about frontend HTTP-to-gRPC translation |

---

### Q4 (Difficulty 2/5) — Architecture

**Question:** What is the role of Redis in this architecture and which service uses it?

**Ground Truth:** Redis is used by cartservice (C#) for shopping cart persistence, keyed by user ID.

#### Track A: Top 5 Results

| Rank | File | Similarity | Type | Symbol |
|------|------|-----------|------|--------|
| 1 | src/cartservice/src/cartstore/RedisCartStore.cs | 0.624 | file | — |
| 2 | src/cartservice/src/Startup.cs | 0.611 | file | — |
| 3 | src/cartservice/src/cartstore/RedisCartStore.cs | 0.603 | class | RedisCartStore |
| 4 | src/adservice/src/main/proto/demo.proto | 0.602 | file | — |
| 5 | src/currencyservice/proto/demo.proto | 0.597 | file | — |

#### Track A Scoring

| Criteria | Score | Notes |
|----------|-------|-------|
| Relevance | 4/4 | Top 3 directly about Redis in cartservice |
| Coverage | 3/3 | RedisCartStore.cs (implementation) + Startup.cs (configuration) |
| Ranking | 3/3 | RedisCartStore.cs at #1 — exactly right |
| **Total A** | **10/10** | Perfect retrieval |

#### Track B: Synthesized Answer

> "Redis serves as the distributed caching and persistence layer specifically for the **Cart Service**, allowing the application to store and retrieve user shopping cart data efficiently. In this architecture, the Cart Service is designed to be storage..."

| Criteria | Score | Notes |
|----------|-------|-------|
| **Total B** | **7/10** | Correctly identifies Redis for Cart Service. Mentions storage and persistence role. Truncated before discussing user ID keying or implementation details |

---

### Q5 (Difficulty 4/5) — Cross-Service Tracing

**Question:** Trace the complete flow when a user places an order. Which services are involved and in what sequence?

**Ground Truth:** Frontend -> CheckoutService orchestrates: Cart -> ProductCatalog -> Currency -> Shipping -> Payment -> Cart.EmptyCart -> Email. 7-8 services total.

#### Track A: Top 5 Results

| Rank | File | Similarity | Type | Symbol |
|------|------|-----------|------|--------|
| 1 | src/currencyservice/proto/demo.proto | 0.649 | file | — |
| 2 | src/shippingservice/README.md | 0.645 | file | — |
| 3 | src/adservice/src/main/proto/demo.proto | 0.644 | file | — |
| 4 | src/frontend/genproto/demo_grpc.pb.go | 0.641 | class | CheckoutServiceClient |
| 5 | src/checkoutservice/main.go | 0.636 | file | — (analysis failed) |

Also: protos/demo.proto (6), paymentservice/proto (7), frontend/main.go (8), checkoutservice/genproto (9), shippingservice/genproto (10)

#### Track A Scoring

| Criteria | Score | Notes |
|----------|-------|-------|
| Relevance | 3/4 | Proto files show service interfaces; CheckoutServiceClient identified. But checkoutservice/main.go (#5) has "analysis failed" — degraded summary |
| Coverage | 2/3 | Has checkout, shipping, currency, payment proto files. Missing email service |
| Ranking | 1/3 | Proto files at #1-3 instead of checkoutservice/main.go which is the orchestrator |
| **Total A** | **6/10** | Hurt by checkoutservice/main.go parse failure — this is the key orchestrator file |

#### Track B: Synthesized Answer

> "...the order placement flow is a synchronous process orchestrated by the **CheckoutService** that spans multiple microservices. The sequence begins in the **Frontend** service, specifically within..."

| Criteria | Score | Notes |
|----------|-------|-------|
| **Total B** | **5/10** | Correctly identifies CheckoutService as orchestrator and Frontend as entry point. Truncated before listing the full service sequence |

---

### Q6 (Difficulty 4/5) — Blast Radius

**Question:** What happens if the currency service goes down? Which services are directly and indirectly affected?

**Ground Truth:** Directly: Frontend (price display), CheckoutService (price conversion). Indirectly: all downstream checkout services. Currency is critical in both browsing and purchasing paths.

#### Track A: Top 5 Results

| Rank | File | Similarity | Type | Symbol |
|------|------|-----------|------|--------|
| 1 | src/currencyservice/data/currency_conversion.json | 0.616 | file | — |
| 2 | src/currencyservice/proto/demo.proto | 0.607 | file | — |
| 3 | src/currencyservice/server.js (check) | 0.596 | function | check |
| 4 | src/currencyservice/proto/health.proto | 0.594 | class | Health |
| 5 | src/frontend/genproto/demo_grpc.pb.go | 0.592 | class | CurrencyServiceClient |

Also: getSupportedCurrencies (7), _getCurrencyData (8), client.js (10)

#### Track A Scoring

| Criteria | Score | Notes |
|----------|-------|-------|
| Relevance | 2/4 | All results about the currency service itself, not about what depends on it |
| Coverage | 1/3 | Has currency internals but missing frontend/rpc.go and checkoutservice/main.go which show consumers |
| Ranking | 1/3 | CurrencyServiceClient at #5 is the only consumer-side evidence |
| **Total A** | **4/10** | System finds "what the currency service is" not "who depends on it" |

#### Track B: Synthesized Answer

> "If the `CurrencyService` goes down, the specific gRPC methods `GetSupportedCurrencies` and `Convert` defined in `src/currencyservice/proto/demo.proto`..."

| Criteria | Score | Notes |
|----------|-------|-------|
| **Total B** | **3/10** | Identifies the methods that would fail but truncated before analyzing the blast radius or naming affected services |

---

### Q7 (Difficulty 3/5) — Implementation Detail

**Question:** How does the recommendation service decide which products to suggest?

**Ground Truth:** Random selection via `random.sample()`. Fetches all products from ProductCatalogService, filters out current products, picks up to 5 randomly. No ML — it is a mock.

#### Track A: Top 5 Results

| Rank | File | Similarity | Type | Symbol |
|------|------|-----------|------|--------|
| 1 | src/recommendationservice/recommendation_server.py | 0.641 | class | RecommendationService |
| 2 | src/shoppingassistantservice/shoppingassistantservice.py | 0.609 | function | talkToGemini |
| 3 | src/frontend/templates/recommendations.html | 0.608 | file | — |
| 4 | src/adservice/.../AdService.java (getAds) | 0.603 | function | getAds |
| 5 | src/adservice/README.md | 0.596 | file | — |

Also: recommendation_server.py file-level (6), requirements.txt (7), requirements.in (8), demo_pb2_grpc.py (9), products.json (10)

#### Track A Scoring

| Criteria | Score | Notes |
|----------|-------|-------|
| Relevance | 3/4 | #1 is the exact implementation class. #2-5 are tangentially related (ad service, templates) |
| Coverage | 3/3 | RecommendationService class with ListRecommendations method (filters + random sample of 5) |
| Ranking | 3/3 | RecommendationService class at #1 — perfect |
| **Total A** | **9/10** | Excellent. Summary says "filters out products already in the request, and returns a random sample of up to 5 products" |

#### Track B: Synthesized Answer

> "The recommendation service determines which products to suggest using a straightforward filtering and random sampling logic rather than a complex machine learning model. According to the `ListRecommendations` method in `src/recommendations..."

| Criteria | Score | Notes |
|----------|-------|-------|
| **Total B** | **7/10** | Correctly identifies random sampling (not ML), references the right method. Truncated before full details about ProductCatalogService integration and the "up to 5" limit |

---

### Q8 (Difficulty 3/5) — Implementation Detail

**Question:** What credit card validation does the payment service perform, and what card types are accepted?

**Ground Truth:** Three validations — card number format, card type (Visa + MasterCard only), expiration date. Returns mock UUID transaction.

#### Track A: Top 5 Results

| Rank | File | Similarity | Type | Symbol |
|------|------|-----------|------|--------|
| 1 | src/paymentservice/charge.js | 0.681 | file | — |
| 2 | src/paymentservice/charge.js | 0.667 | function | charge |
| 3 | src/paymentservice/charge.js | 0.644 | class | UnacceptedCreditCard |
| 4 | src/frontend/validator/validator.go | 0.640 | class | PlaceOrderPayload |
| 5 | src/paymentservice/charge.js | 0.620 | class | InvalidCreditCard |

#### Track A Scoring

| Criteria | Score | Notes |
|----------|-------|-------|
| Relevance | 4/4 | 4 of 5 directly about payment validation |
| Coverage | 3/3 | charge.js file + charge function + UnacceptedCreditCard (Visa/MC only) + InvalidCreditCard (format) |
| Ranking | 3/3 | charge.js at #1 and #2 — perfect |
| **Total A** | **10/10** | Perfect. charge function summary says "Validates the credit card number, type (Visa/MasterCard only), and expiration date, then returns a generated transaction ID" |

#### Track B: Synthesized Answer

> "The payment service performs three primary validation checks: it verifies the credit card number format, ensures the card type is supported, and confirms the expiration date is in the future. According to the logic implemented in..."

| Criteria | Score | Notes |
|----------|-------|-------|
| **Total B** | **7/10** | Correctly names all three validations. Truncated before mentioning Visa/MasterCard specifically and the mock UUID transaction |

---

### Q9 (Difficulty 5/5) — Design Analysis

**Question:** What are the single points of failure in this architecture? Which service failures would cause a complete outage?

**Ground Truth:** Frontend = only true SPOF. ProductCatalogService = near-complete outage. CurrencyService = high blast radius. Must distinguish complete outage vs degraded experience.

#### Track A: Top 5 Results

| Rank | File | Similarity | Type | Symbol |
|------|------|-----------|------|--------|
| 1 | src/checkoutservice/main.go | 0.591 | file | — (analysis failed) |
| 2 | src/cartservice/src/services/HealthCheckService.cs | 0.579 | function | Check |
| 3 | src/adservice/.../AdService.java | 0.572 | function | main |
| 4 | src/productcatalogservice/README.md | 0.572 | file | — |
| 5 | src/cartservice/src/Startup.cs | 0.568 | file | — |

#### Track A Scoring

| Criteria | Score | Notes |
|----------|-------|-------|
| Relevance | 2/4 | Health checks and entry points — tangentially related but not SPOF analysis |
| Coverage | 1/3 | Missing frontend/main.go (the true SPOF). Has health checks which hint at failure modes |
| Ranking | 1/3 | checkoutservice/main.go at #1 has "analysis failed" — useless |
| **Total A** | **4/10** | Analytical questions are inherently hard for vector retrieval |

#### Track B: Synthesized Answer

> "Based on the provided documentation, the architecture follows a distributed microservices model defined in `src/adservice/src/main/proto/demo.proto`, where specific component failures can lead to critical..."

| Criteria | Score | Notes |
|----------|-------|-------|
| **Total B** | **2/10** | Vague. References wrong file. Truncated before identifying any actual SPOFs. Doesn't name Frontend as the primary SPOF |

---

### Q10 (Difficulty 5/5) — Design Analysis

**Question:** If I wanted to add a wishlist feature, which services would I need to modify and what new gRPC methods would I need to define?

**Ground Truth:** New WishlistService (modeled after CartService), proto changes (AddItem, GetWishlist, RemoveItem RPCs), Frontend modifications, K8s manifests. CartService is the reference.

#### Track A: Top 5 Results

| Rank | File | Similarity | Type | Symbol |
|------|------|-----------|------|--------|
| 1 | src/cartservice/src/protos/Cart.proto | 0.706 | file | — |
| 2 | src/cartservice/src/protos/Cart.proto | 0.700 | class | CartService |
| 3 | src/currencyservice/proto/demo.proto | 0.683 | file | — |
| 4 | src/adservice/src/main/proto/demo.proto | 0.680 | file | — |
| 5 | src/recommendationservice/demo_pb2_grpc.py | 0.677 | file | — |

Also: protos/demo.proto (6), Cart.proto/AddItem (7), frontend/rpc.go (8), paymentservice/proto (9), checkoutservice/genproto (10)

#### Track A Scoring

| Criteria | Score | Notes |
|----------|-------|-------|
| Relevance | 4/4 | Cart.proto at #1 is the perfect template for a wishlist service |
| Coverage | 3/3 | Cart proto (template), demo.proto (where to add service), frontend/rpc.go (integration reference) |
| Ranking | 3/3 | Cart.proto at #1 with highest similarity (0.706) — excellent reference |
| **Total A** | **10/10** | System correctly identified CartService as the design template |

#### Track B: Synthesized Answer

> "To implement a wishlist feature, you would primarily need to modify the **Frontend** service to expose the UI and the **CartService** (or create a dedicated `WishlistService`) to handle storage logic..."

| Criteria | Score | Notes |
|----------|-------|-------|
| **Total B** | **6/10** | Correctly identifies Frontend + CartService/WishlistService approach. Truncated before listing specific gRPC methods (AddItem, GetWishlist, RemoveItem) |

---

## Summary Scorecard

| Question | Difficulty | Category | Track A (/10) | Track B (/10) | Notes |
|----------|-----------|----------|---------------|---------------|-------|
| Q1 | 1/5 | Basic Facts | 5 | 4 | Languages spread across top 10 but poorly ranked |
| Q2 | 2/5 | Basic Facts | 10 | 3 | Perfect retrieval; synthesis failed to extract port from summary |
| Q3 | 2/5 | Architecture | 10 | 6 | Perfect retrieval; answer correctly identifies gRPC |
| Q4 | 2/5 | Architecture | 10 | 7 | Perfect retrieval; good answer direction |
| Q5 | 4/5 | Cross-Service | 6 | 5 | Hurt by checkoutservice parse failure |
| Q6 | 4/5 | Blast Radius | 4 | 3 | Finds service internals, not consumers/dependents |
| Q7 | 3/5 | Implementation | 9 | 7 | Excellent — random sampling correctly identified |
| Q8 | 3/5 | Implementation | 10 | 7 | Perfect — all three validations identified |
| Q9 | 5/5 | Design Analysis | 4 | 2 | Analytical questions are hard for vector retrieval |
| Q10 | 5/5 | Design Analysis | 10 | 6 | CartService correctly identified as wishlist template |
| **Total** | | | **78/100** | **50/100** | |

### Track A Grade: **Good (78/100)**
### Track B Grade: **Below Average (50/100)**

**Track B caveat:** All 10 synthesized answers were truncated to ~200-250 characters by the Gemini 3 Pro Preview model. With full-length answers, Track B would likely score significantly higher (estimated 70-80/100) based on the correct direction of each truncated answer.

---

## Comparison: Anthropic (Run 1) vs Gemini (Run 2) — Track A

| Question | Anthropic (109/146 files) | Gemini (145/146 files) | Delta |
|----------|--------------------------|----------------------|-------|
| Q1 | 7 | 5 | -2 |
| Q2 | 10 | 10 | 0 |
| Q3 | 10 | 10 | 0 |
| Q4 | 10 | 10 | 0 |
| Q5 | 9 | 6 | -3 |
| Q6 | 7 | 4 | -3 |
| Q7 | 6 | 9 | +3 |
| Q8 | 10 | 10 | 0 |
| Q9 | 3 | 4 | +1 |
| Q10 | 9 | 10 | +1 |
| **Total** | **81** | **78** | **-3** |

### Key Observations

1. **Gemini processed 99% of files vs Anthropic's 75%** — but this didn't translate to higher retrieval scores overall
2. **Q7 (recommendation logic) improved from 6 to 9** — the previously-missing recommendationservice was now fully indexed, as expected
3. **Q5 and Q6 dropped** — because Gemini failed to parse checkoutservice/main.go (the key checkout orchestrator), while Anthropic had successfully parsed it with a rich summary mentioning all downstream services
4. **Parse failures matter more than coverage** — a file with a good summary is worth more than two files with "Analysis failed" summaries
5. **Embedding quality is comparable** — similarity scores were similar between runs, suggesting the embedding model (gemini-embedding-001) is the constant factor

### Root Cause of Regression

The Gemini LLM (`gemini-3-pro-preview`) failed to parse its own analysis output for several critical files:
- `src/checkoutservice/main.go` — the checkout orchestrator (most impactful loss)
- `src/frontend/handlers.go` — all HTTP route handlers
- `src/frontend/genproto/demo.pb.go` — generated protobuf types

Anthropic (`claude-sonnet-4-5-20250929`) parsed these files successfully. The parse failures in the analysis pipeline directly caused Track A regressions on Q5 and Q6.

---

## Analysis

### What Worked Well
1. **Concrete implementation questions** (Q2, Q3, Q4, Q8, Q10) scored 10/10 — the vector embeddings correctly identify specific files and functions
2. **Full service coverage** — with 145/146 files, all 12 services are now in the index
3. **Function-level indexing** — finding RecommendationService.ListRecommendations, charge(), CurrencyServiceClient adds significant value
4. **Design reference questions** (Q10) — system correctly identifies CartService as the wishlist template (0.706 similarity — highest in all queries)

### What Didn't Work
1. **LLM parse failures** — 3 critical files have degraded summaries, directly hurting Q5 and Q6
2. **Answer truncation** — Gemini 3 Pro Preview truncates synthesis answers to ~250 chars, making Track B scores artificially low
3. **Analytical questions** (Q6, Q9) — retrieval finds "what a service IS" but not "what happens when it FAILS"
4. **Broad questions** (Q1) — generic queries produce weaker embeddings than specific ones

### Recommendations
1. **Fix LLM response parsing** — add retry logic or fallback prompts when the initial parse fails. checkoutservice/main.go is one of the most important files in the project
2. **Increase synthesis max_tokens** — the 1024 limit should be sufficient but Gemini is stopping early. Investigate the finish_reason from the API
3. **Add dependency-graph queries** — for blast radius questions (Q6, Q9), build an import/call graph in addition to vector search
4. **Consider hybrid scoring** — combine vector similarity with file-level metadata (e.g., number of imports, centrality in the dependency graph)

---

## Reproduction

```bash
# Rerun queries only (reuse existing docs):
# 1. Set GOOGLE_API_KEY (or GEMINI_API_KEY)
# 2. cd to: C:\Users\thesn\AppData\Local\Temp\online-boutique-e2e.TvH3RL\repo
# 3. autodoc query "your question" --json --limit 10

# Full rerun:
./test/e2e/online-boutique-e2e.sh
```

## File Locations

| Item | Path |
|------|------|
| CLI results (Gemini) | `C:\Users\thesn\AppData\Local\Temp\online-boutique-e2e.TvH3RL\_e2e_results_gemini\cli\q*.json` |
| API results (Gemini) | `C:\Users\thesn\AppData\Local\Temp\online-boutique-e2e.TvH3RL\_e2e_results_gemini\api\q*.json` |
| CLI results (Anthropic) | `C:\Users\thesn\AppData\Local\Temp\online-boutique-e2e.TvH3RL\_e2e_results\cli\q*.json` |
| Generated docs | `C:\Users\thesn\AppData\Local\Temp\online-boutique-e2e.TvH3RL\repo\.autodoc\docs\` |
| Vector DB | `C:\Users\thesn\AppData\Local\Temp\online-boutique-e2e.TvH3RL\repo\.autodoc\vectordb\` |
| E2E script | `test/e2e/online-boutique-e2e.sh` |
